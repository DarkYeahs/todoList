/*! person/code/todo,gzchenyetao */
webpackJsonp([2],{1:function(t,n,e){t.exports=e.p+"images/icon.35fc0d.png"},2:function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var a=e(6),o=e.n(a),c=e(14),r=e.n(c),s=e(4),u=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},f=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var l=function(){function t(){i(this,t),this.baseUrl="http://localhost:4000",this.init(this.baseUrl)}return f(t,[{key:"init",value:function(t){this.instance=o.a.create({baseURL:t,timeout:5e3})}},{key:"getList",value:function(){return this._get(s.a)}},{key:"modify",value:function(t){return this._post(s.b,t)}},{key:"add",value:function(t){return this._post(s.c,t)}},{key:"_get",value:function(t,n){var e=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(a,o){e.instance.get(t,u({params:n},i)).then(function(t){a(t.data)}).catch(function(t){o(t)})})}},{key:"_post",value:function(t,n){var e=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(a,o){e.instance.post(t,r.a.stringify(n),u({},i,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})).then(function(t){a(t.data)}).catch(function(t){o(t)})})}}]),t}();n.a=new l},39:function(t,n,e){"use strict";function i(t){var n={type:"basic",title:"通知",message:t,iconUrl:u.a};chrome.notifications.create("",n,function(t){})}function a(t,n){for(var e=t.length,a=0;a<e;a++){(function(e){var a=t[e];if(a.deadline<=n)return"continue";var o=a.deadline-n,c=setTimeout(function(){i(a.content),r.a.modify({list_id:a.list_id,status:2})},o);f.push({id:a.list_id,flag:c}),l.push(a.list_id)})(a)}}function o(t){var n=f.length;if(0!==n)for(var e=0;e<n;e++){var i=f[e];i.id===t&&(clearTimeout(i.flag),f.splice(e,1),l.splice(e,1))}}function c(t,n){var e=t.length;if(0!==e)for(var a=0;a<e;a++)!function(e){var a=t[e],o=a.deadline-n;if(-1===l.indexOf(a.list_id)&&o>0){var c=setTimeout(function(){i(a.content),r.a.modify({list_id:a.list_id,status:2})},o);f.push({id:a.list_id,flag:c}),l.push(a.list_id)}}(a)}Object.defineProperty(n,"__esModule",{value:!0});var r=e(2),s=e(1),u=e.n(s);chrome.runtime.onMessage.addListener(function(t,n,e){switch(console.log(t),t.type){case"getList":console.log("getList"),r.a.getList().then(function(t){e(t),c(t.data,t.time)}).catch(function(t){e(t)});break;case"modify":console.log("getList"),o(t.data&&t.data.list_id),r.a.modify(t.data).then(function(t){e(t)}).catch(function(t){e(t)});break;case"add":console.log("add"),r.a.add(t.data).then(function(t){e(t)}).catch(function(t){e(t)})}return!0});var f=[],l=[];!function(){r.a.getList().then(function(t){a(t.data,t.time)}).catch(function(t){})}()},4:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return o});var i="/query",a="/modify",o="/insert"}},[39]);